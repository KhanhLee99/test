import{u as y,b as f,M as t,s as g,e as a,L as d,U as N,h as v,m as b,j as s,v as w,w as l,S as P,Q as k}from"./index.322ed24b.js";import{P as K}from"./PurchaseSkeleton.8b71722f.js";const j=[{status:t.all,nameKey:"all"},{status:t.waitForConfirmation,nameKey:"to confirm"},{status:t.waitForGetting,nameKey:"to ship"},{status:t.inProgress,nameKey:"to receive"},{status:t.delivered,nameKey:"completed"},{status:t.cancelled,nameKey:"cancelled"}];function A(){const{t:n}=y(),m=f(),c=Number(m.status)||t.all,{data:i,isPending:o}=g({queryKey:["purchases",{status:c}],queryFn:()=>k.getPurchases({status:c})}),r=i==null?void 0:i.data.data,u=j.map(e=>a(d,{to:{pathname:N.historyPurchase,search:v({status:String(e.status)}).toString()},className:b("flex flex-1 items-center justify-center border-b-2 bg-white py-4 text-center",{"border-b-orange text-orange":c===e.status,"border-b-black/10 text-gray-900":c!==e.status}),children:n(`${e.nameKey}`)},e.status)),h=r&&r.length>0,p=r&&r.length==0&&!o;return a("div",{children:a("div",{className:"overflow-x-auto",children:s("div",{className:"min-w-[700px]",children:[a("div",{className:"sticky top-0 flex rounded-t-sm shadow-sm",children:u}),s("div",{children:[o&&Array(5).fill(0).map((e,x)=>a(K,{classNameWrap:"mt-4 rounded-sm border-black/10 bg-white p-6 shadow-sm"},x)),h&&r.map(e=>s("div",{className:"mt-4 rounded-sm border-black/10 bg-white p-6 text-gray-800 shadow-sm",children:[s(d,{to:w({name:e.product.name,id:e.product._id}),className:"flex",children:[a("div",{className:"flex-shrink-0",children:a("img",{className:"h-20 w-20 object-cover",src:e.product.image,alt:e.product.name})}),s("div",{className:"ml-3 flex-grow overflow-hidden",children:[a("div",{className:"truncate",children:e.product.name}),s("div",{className:"mt-3",children:["x",e.buy_count]})]}),s("div",{className:"ml-3 flex-shrink-0",children:[s("span",{className:"truncate text-gray-500 line-through",children:["\u20AB",l(e.product.price_before_discount)]}),s("span",{className:"ml-2 truncate text-orange",children:["\u20AB",l(e.product.price)]})]})]}),a("div",{className:"flex justify-end",children:s("div",{children:[a("span",{children:n("total price")}),s("span",{className:"ml-4 text-xl text-orange",children:["\u20AB",l(e.product.price*e.buy_count)]})]})})]},e._id)),p&&s("div",{className:"mt-[15px] flex h-[300px] flex-col items-center justify-center bg-white p-2",children:[a("img",{src:P,alt:"no purchase",className:"h-[160px] w-[160px]"}),a("div",{className:"mt-3 capitalize",children:n("no order")})]})]})]})})})}export{A as default};
