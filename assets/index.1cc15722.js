import{r as g,j as s,b as e,a as E,o as b,s as v,q as A,l as N,x as k,B as y,w as D}from"./index.14a639b9.js";import{u as M}from"./user.api.70c7314b.js";function x({name:r,className:p,errorMessage:h,register:m,rules:t,classNameInput:o="p-3 w-full outline-none border border-gray-300 focus:border-gray-500 rounded-sm focus:shadow-sm",classNameError:w="mt-1 text-red-600 min-h-[1.25rem] text-sm",classNameEye:l="absolute top-[8px] right-[5px] h-5 w-5 cursor-pointer",...u}){const[a,n]=g.exports.useState(!1),c=m&&r?m(r,t):null,i=()=>{n(d=>!d)};return s("div",{className:p,children:[e("input",{className:o,...u,...c,type:a?"text":"password",autoComplete:"on"}),a&&s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:l,onClick:i,children:[e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),!a&&e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:l,onClick:i,children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"})}),e("div",{className:w,children:h})]})}const C=D.pick(["password","new_password","confirm_password"]);function _(){var l,u,a;const{register:r,handleSubmit:p,reset:h,setError:m,formState:{errors:t}}=E({defaultValues:{password:"",new_password:"",confirm_password:""},resolver:b(C),shouldFocusError:!1}),o=v({mutationFn:M.updateProfile,onSuccess:n=>{A.success(n.data.message,{position:"top-center",autoClose:1e3}),h()}}),w=p(n=>{o.mutate(N.exports.omit(n,["confirm_password"]),{onError:c=>{var i;if(k(c)){const d=(i=c.response)==null?void 0:i.data.data;d&&Object.keys(d).forEach(f=>{m(f,{message:d[f],type:"Server"})})}}})});return s("div",{className:"rounded-sm bg-white px-2 pb-10 shadow md:px-7 md:pb-20",children:[s("div",{className:"border-b border-b-gray-200 py-6",children:[e("h1",{className:"text-lg font-medium capitalize text-gray-900",children:"\u0110\u1ED5i m\u1EADt kh\u1EA9u"}),e("div",{className:"mt-1 text-sm text-gray-700",children:"Qu\u1EA3n l\xFD th\xF4ng tin h\u1ED3 s\u01A1 \u0111\u1EC3 b\u1EA3o m\u1EADt t\xE0i kho\u1EA3n"})]}),e("form",{className:"mt-8 mr-auto max-w-3xl",onSubmit:w,children:s("div",{className:"mt-6 flex-grow md:mt-0 md:pr-12",children:[s("div",{className:"relative mt-2 flex flex-col flex-wrap sm:flex-row",children:[e("div",{className:"truncate pt-3 capitalize sm:w-[30%] sm:text-right",children:"M\u1EADt kh\u1EA9u hi\u1EC7n t\u1EA1i"}),e("div",{className:"sm:w-[70%] sm:pl-5",children:e(x,{classNameInput:"w-full rounded-sm border border-gray-300 px-3 py-2 outline-none focus:border-gray-500 focus:shadow-sm",name:"password",placeholder:"M\u1EADt kh\u1EA9u hi\u1EC7n t\u1EA1i",errorMessage:(l=t.password)==null?void 0:l.message,register:r})})]}),s("div",{className:"relative mt-2 flex flex-col flex-wrap sm:flex-row",children:[e("div",{className:"truncate pt-3 capitalize sm:w-[30%] sm:text-right",children:"M\u1EADt kh\u1EA9u m\u1EDBi"}),e("div",{className:"sm:w-[70%] sm:pl-5",children:e(x,{classNameInput:"w-full rounded-sm border border-gray-300 px-3 py-2 outline-none focus:border-gray-500 focus:shadow-sm",name:"new_password",placeholder:"M\u1EADt kh\u1EA9u m\u1EDBi",errorMessage:(u=t.new_password)==null?void 0:u.message,register:r})})]}),s("div",{className:"relative mt-2 flex flex-col flex-wrap sm:flex-row",children:[e("div",{className:"truncate pt-3 capitalize sm:w-[30%] sm:text-right",children:"Nh\u1EADp l\u1EA1i m\u1EADt kh\u1EA9u m\u1EDBi"}),e("div",{className:"sm:w-[70%] sm:pl-5",children:e(x,{classNameInput:"w-full rounded-sm border border-gray-300 px-3 py-2 outline-none focus:border-gray-500 focus:shadow-sm",name:"confirm_password",placeholder:"Nh\u1EADp l\u1EA1i m\u1EADt kh\u1EA9u m\u1EDBi",errorMessage:(a=t.confirm_password)==null?void 0:a.message,register:r})})]}),s("div",{className:"mt-2 flex flex-col flex-wrap sm:flex-row",children:[e("div",{className:"truncate pt-3 capitalize sm:w-[30%] sm:text-right"}),e("div",{className:"sm:w-[70%] sm:pl-5",children:e(y,{className:"flex h-9 items-center rounded-sm bg-orange px-5 text-center text-sm text-white hover:bg-orange/80",type:"submit",isLoading:o.isPending,disabled:o.isPending,children:"L\u01B0u"})})]})]})})]})}export{_ as default};
