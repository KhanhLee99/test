import{u as E,r as N,A as w,c as v,d as y,i as b,j as a,H as A,e,L as M,U as S,f as j,o as I,E as C,g as F}from"./index.6eb0df9b.js";import{I as L}from"./Input.10dcad6d.js";import{B as P}from"./Button.8d9aff15.js";import{I as d}from"./InputPassword.87970af7.js";function H(){const{t:s}=E(),{setIsAuthenticated:p,setProfile:u}=N.exports.useContext(w),{register:o,handleSubmit:g,setError:h,formState:{errors:f}}=v({resolver:I(C)}),n=y({mutationFn:r=>F.registerAccount(r)}),x=g(r=>{n.mutate({email:r.email,password:r.password},{onSuccess:t=>{p(!0),u(t.data.data.user)},onError:t=>{var l;if(b(t)){const c=(l=t.response)==null?void 0:l.data.data;c&&Object.keys(c).forEach(m=>h(m,{message:c[m],type:"Server"}))}}})}),i=r=>j(f,r);return a("div",{className:"bg-orange",children:[a(A,{children:[a("title",{children:[s("sign up")," | Shopee Clone"]}),e("meta",{name:"description",content:"\u0110\u0103ng k\xFD t\xE0i kho\u1EA3n v\xE0o d\u1EF1 \xE1n Shopee Clone"})]}),e("div",{className:"container",children:e("div",{className:"grid grid-cols-1 py-12 lg:grid-cols-5 lg:py-32 lg:pr-10",children:e("div",{className:"lg:col-span-2 lg:col-start-4",children:a("form",{className:"rounded bg-white p-10 shadow-sm",onSubmit:x,noValidate:!0,children:[e("div",{className:"text-2xl",children:s("sign up")}),e(L,{className:"mt-8",type:"email",placeholder:"Email",name:"email",errorMessage:i("email"),register:o}),e(d,{className:"mt-2",classNameEye:"top-[13px]",name:"password",placeholder:s("password"),errorMessage:i("password"),register:o}),e(d,{className:"mt-2",classNameEye:"top-[13px]",name:"confirm_password",placeholder:s("confirm password"),errorMessage:i("confirm_password"),register:o}),e("div",{className:"mt-2",children:e(P,{type:"submit",className:"flex  w-full items-center justify-center bg-red-500 py-4 px-2 text-sm uppercase text-white hover:bg-red-600",isLoading:n.isPending,disabled:n.isPending,children:s("sign up")})}),a("div",{className:"mt-8 flex items-center justify-center",children:[e("span",{className:"text-gray-400",children:s("have account")}),e(M,{className:"ml-1 text-red-400",to:S.login,children:s("login")})]})]})})})})]})}export{H as default};
