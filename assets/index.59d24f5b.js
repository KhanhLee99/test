import{u as E,a as y,r as b,A as w,b as S,c as P,d as j,U as u,i as L,j as r,H as M,e,L as A,f as I,o as C,l as F,g as U}from"./index.1af901cc.js";import{I as q}from"./Input.a5991b24.js";import{B}from"./Button.26fcaa84.js";import{I as H}from"./InputPassword.b6fa91dc.js";function R(){const{t:s}=E(),p=y(),{setIsAuthenticated:g,setProfile:h}=b.exports.useContext(w),i=S().next||"",{register:l,handleSubmit:f,setError:x,formState:{errors:N}}=P({resolver:C(F)}),n=j({mutationFn:a=>U.login(a)}),v=f(a=>{n.mutate(a,{onSuccess:t=>{g(!0),h(t.data.data.user),i&&p(`${u.productList}${i}`)},onError:t=>{var d;if(L(t)){const o=(d=t.response)==null?void 0:d.data.data;o&&Object.keys(o).forEach(m=>x(m,{message:o[m],type:"Server"}))}}})}),c=a=>I(N,a);return r("div",{className:"bg-orange",children:[r(M,{children:[r("title",{children:[s("login")," | Shopee Clone"]}),e("meta",{name:"description",content:"\u0110\u0103ng nh\u1EADp v\xE0o d\u1EF1 \xE1n Shopee Clone"})]}),e("div",{className:"container",children:e("div",{className:"grid grid-cols-1 py-12 lg:grid-cols-5 lg:py-32 lg:pr-10",children:e("div",{className:"lg:col-span-2 lg:col-start-4",children:r("form",{className:"rounded bg-white p-10 shadow-sm",onSubmit:v,noValidate:!0,children:[e("div",{className:"text-2xl",children:s("login")}),e(q,{className:"mt-8",type:"email",placeholder:"Email",name:"email",errorMessage:c("email"),register:l}),e(H,{className:"mt-2",classNameEye:"top-[13px]",name:"password",placeholder:s("password"),errorMessage:c("password"),register:l}),e("div",{className:"mt-2",children:e(B,{className:"flex w-full items-center justify-center bg-red-500 py-4 px-2 text-sm uppercase text-white hover:bg-red-600",isLoading:n.isPending,disabled:n.isPending,children:s("login")})}),r("div",{className:"mt-8 flex items-center justify-center",children:[e("span",{className:"text-gray-400",children:s("dont have account")}),e(A,{className:"ml-1 text-red-400",to:u.register,children:s("sign up")})]})]})})})})]})}export{R as default};
