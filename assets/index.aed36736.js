import{u as b,a as E,r as w,A as P,b as j,c as L,d as M,U as m,i as S,j as e,e as u,L as A,f as C,o as I,l as U,g as q}from"./index.857cbc1f.js";import{I as g}from"./Input.600b2eef.js";import{B}from"./Button.08d4118a.js";function Q(){const{t:a}=b(),p=E(),{setIsAuthenticated:h,setProfile:f}=w.exports.useContext(P),o=j().next||"",{register:i,handleSubmit:x,setError:N,formState:{errors:v}}=L({resolver:I(U)}),t=M({mutationFn:s=>q.login(s)}),y=x(s=>{t.mutate(s,{onSuccess:r=>{h(!0),f(r.data.data.user),o&&p(`${m.productList}${o}`)},onError:r=>{var c;if(S(r)){const n=(c=r.response)==null?void 0:c.data.data;n&&Object.keys(n).forEach(d=>N(d,{message:n[d],type:"Server"}))}}})}),l=s=>C(v,s);return e("div",{className:"bg-orange",children:e("div",{className:"container",children:e("div",{className:"grid grid-cols-1 py-12 lg:grid-cols-5 lg:py-32 lg:pr-10",children:e("div",{className:"lg:col-span-2 lg:col-start-4",children:u("form",{className:"rounded bg-white p-10 shadow-sm",onSubmit:y,noValidate:!0,children:[e("div",{className:"text-2xl",children:a("login")}),e(g,{className:"mt-8",type:"email",placeholder:"Email",name:"email",errorMessage:l("email"),register:i}),e(g,{className:"mt-2",type:"password",placeholder:"Password",name:"password",autoComplete:"on",errorMessage:l("password"),register:i}),e("div",{className:"mt-2",children:e(B,{className:"flex w-full items-center justify-center bg-red-500 py-4 px-2 text-sm uppercase text-white hover:bg-red-600",isLoading:t.isPending,disabled:t.isPending,children:a("login")})}),u("div",{className:"mt-8 flex items-center justify-center",children:[e("span",{className:"text-gray-400",children:a("dont have account")}),e(A,{className:"ml-1 text-red-400",to:m.register,children:a("sign up")})]})]})})})})})}export{Q as default};
