import{u as y,b as g,M as t,s as f,e as s,L as d,U as N,h as v,m as b,j as a,H as w,v as P,w as l,S as k,Q as K}from"./index.d2c701b9.js";import{P as j}from"./PurchaseSkeleton.679c9b82.js";const S=[{status:t.all,nameKey:"all"},{status:t.waitForConfirmation,nameKey:"to confirm"},{status:t.waitForGetting,nameKey:"to ship"},{status:t.inProgress,nameKey:"to receive"},{status:t.delivered,nameKey:"completed"},{status:t.cancelled,nameKey:"cancelled"}];function T(){const{t:n}=y(),m=g(),c=Number(m.status)||t.all,{data:i,isPending:o}=f({queryKey:["purchases",{status:c}],queryFn:()=>K.getPurchases({status:c})}),r=i==null?void 0:i.data.data,u=S.map(e=>s(d,{to:{pathname:N.historyPurchase,search:v({status:String(e.status)}).toString()},className:b("flex flex-1 items-center justify-center border-b-2 bg-white py-4 text-center",{"border-b-orange text-orange":c===e.status,"border-b-black/10 text-gray-900":c!==e.status}),children:n(`${e.nameKey}`)},e.status)),h=r&&r.length>0,p=r&&r.length==0&&!o;return s("div",{children:a("div",{className:"overflow-x-auto",children:[a(w,{children:[a("title",{children:[n("my profile")," | Shopee Clone"]}),s("meta",{name:"description",content:"Trang th\xF4ng tin c\xE1 nh\xE2n"})]}),a("div",{className:"min-w-[700px]",children:[s("div",{className:"sticky top-0 flex rounded-t-sm shadow-sm",children:u}),a("div",{children:[o&&Array(5).fill(0).map((e,x)=>s(j,{classNameWrap:"mt-4 rounded-sm border-black/10 bg-white p-6 shadow-sm"},x)),h&&r.map(e=>a("div",{className:"mt-4 rounded-sm border-black/10 bg-white p-6 text-gray-800 shadow-sm",children:[a(d,{to:P({name:e.product.name,id:e.product._id}),className:"flex",children:[s("div",{className:"flex-shrink-0",children:s("img",{className:"h-20 w-20 object-cover",src:e.product.image,alt:e.product.name})}),a("div",{className:"ml-3 flex-grow overflow-hidden",children:[s("div",{className:"truncate",children:e.product.name}),a("div",{className:"mt-3",children:["x",e.buy_count]})]}),a("div",{className:"ml-3 flex-shrink-0",children:[a("span",{className:"truncate text-gray-500 line-through",children:["\u20AB",l(e.product.price_before_discount)]}),a("span",{className:"ml-2 truncate text-orange",children:["\u20AB",l(e.product.price)]})]})]}),s("div",{className:"flex justify-end",children:a("div",{children:[s("span",{children:n("total price")}),a("span",{className:"ml-4 text-xl text-orange",children:["\u20AB",l(e.product.price*e.buy_count)]})]})})]},e._id)),p&&a("div",{className:"mt-[15px] flex h-[300px] flex-col items-center justify-center bg-white p-2",children:[s("img",{src:k,alt:"no purchase",className:"h-[160px] w-[160px]"}),s("div",{className:"mt-3 capitalize",children:n("no order")})]})]})]})]})})}export{T as default};
