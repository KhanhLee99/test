import{u as E,r as b,A as w,a as A,b as P,c as j,U as u,i as L,j as e,d as g,L as S,o as B,l as F,e as M}from"./index.2787eb53.js";import{I as p}from"./Input.7259a67c.js";import{B as k}from"./Button.cb41fcd7.js";function q(){var l,c;const h=E(),{setIsAuthenticated:x,setProfile:f}=b.exports.useContext(w),n=A().next||"",{register:i,handleSubmit:N,setError:y,formState:{errors:o}}=P({resolver:B(F)}),a=j({mutationFn:t=>M.login(t)}),v=N(t=>{a.mutate(t,{onSuccess:s=>{x(!0),f(s.data.data.user),n&&h(`${u.productList}${n}`)},onError:s=>{var m;if(L(s)){const r=(m=s.response)==null?void 0:m.data.data;r&&Object.keys(r).forEach(d=>y(d,{message:r[d],type:"Server"}))}}})});return e("div",{className:"bg-orange",children:e("div",{className:"container",children:e("div",{className:"grid grid-cols-1 py-12 lg:grid-cols-5 lg:py-32 lg:pr-10",children:e("div",{className:"lg:col-span-2 lg:col-start-4",children:g("form",{className:"rounded bg-white p-10 shadow-sm",onSubmit:v,noValidate:!0,children:[e("div",{className:"text-2xl",children:"\u0110\u0103ng nh\u1EADp"}),e(p,{className:"mt-8",type:"email",placeholder:"Email",name:"email",errorMessage:(l=o.email)==null?void 0:l.message,register:i}),e(p,{className:"mt-2",type:"password",placeholder:"Password",name:"password",autoComplete:"on",errorMessage:(c=o.password)==null?void 0:c.message,register:i}),e("div",{className:"mt-2",children:e(k,{className:"flex w-full items-center justify-center bg-red-500 py-4 px-2 text-sm uppercase text-white hover:bg-red-600",isLoading:a.isPending,disabled:a.isPending,children:"\u0110\u0103ng nh\u1EADp"})}),g("div",{className:"mt-8 flex items-center justify-center",children:[e("span",{className:"text-gray-400",children:"B\u1EA1n ch\u01B0a c\xF3 t\xE0i kho\u1EA3n?"}),e(S,{className:"ml-1 text-red-400",to:u.register,children:"\u0110\u0103ng k\xFD"})]})]})})})})})}export{q as default};
