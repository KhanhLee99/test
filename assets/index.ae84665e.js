import{a as p,I as t,n as g,j as a,L as d,U as f,f as N,h as y,d as s,s as v,t as i,N as b,K as E}from"./index.398a14d7.js";import{P as w}from"./PurchaseSkeleton.42f7a159.js";const P=[{status:t.all,name:"T\u1EA5t c\u1EA3"},{status:t.waitForConfirmation,name:"Ch\u1EDD x\xE1c nh\u1EADn"},{status:t.waitForGetting,name:"Ch\u1EDD l\u1EA5y h\xE0ng"},{status:t.inProgress,name:"\u0110ang giao"},{status:t.delivered,name:"\u0110\xE3 giao"},{status:t.cancelled,name:"\u0110\xE3 h\u1EE7y"}];function D(){const o=p(),n=Number(o.status)||t.all,{data:c,isPending:l}=g({queryKey:["purchases",{status:n}],queryFn:()=>E.getPurchases({status:n})}),r=c==null?void 0:c.data.data,u=P.map(e=>a(d,{to:{pathname:f.historyPurchase,search:N({status:String(e.status)}).toString()},className:y("flex flex-1 items-center justify-center border-b-2 bg-white py-4 text-center",{"border-b-orange text-orange":n===e.status,"border-b-black/10 text-gray-900":n!==e.status}),children:e.name},e.status)),m=r&&r.length>0,h=r&&r.length==0&&!l;return a("div",{children:a("div",{className:"overflow-x-auto",children:s("div",{className:"min-w-[700px]",children:[a("div",{className:"sticky top-0 flex rounded-t-sm shadow-sm",children:u}),s("div",{children:[l&&Array(5).fill(0).map((e,x)=>a(w,{classNameWrap:"mt-4 rounded-sm border-black/10 bg-white p-6 shadow-sm"},x)),m&&r.map(e=>s("div",{className:"mt-4 rounded-sm border-black/10 bg-white p-6 text-gray-800 shadow-sm",children:[s(d,{to:v({name:e.product.name,id:e.product._id}),className:"flex",children:[a("div",{className:"flex-shrink-0",children:a("img",{className:"h-20 w-20 object-cover",src:e.product.image,alt:e.product.name})}),s("div",{className:"ml-3 flex-grow overflow-hidden",children:[a("div",{className:"truncate",children:e.product.name}),s("div",{className:"mt-3",children:["x",e.buy_count]})]}),s("div",{className:"ml-3 flex-shrink-0",children:[s("span",{className:"truncate text-gray-500 line-through",children:["\u20AB",i(e.product.price_before_discount)]}),s("span",{className:"ml-2 truncate text-orange",children:["\u20AB",i(e.product.price)]})]})]}),a("div",{className:"flex justify-end",children:s("div",{children:[a("span",{children:"T\u1ED5ng gi\xE1 ti\u1EC1n"}),s("span",{className:"ml-4 text-xl text-orange",children:["\u20AB",i(e.product.price*e.buy_count)]})]})})]},e._id)),h&&s("div",{className:"mt-[15px] flex h-[300px] flex-col items-center justify-center bg-white p-2",children:[a("img",{src:b,alt:"no purchase",className:"h-[160px] w-[160px]"}),a("div",{className:"mt-3 capitalize",children:"Kh\xF4ng c\xF3 \u0111\u01A1n h\xE0ng"})]})]})]})})})}export{D as default};
